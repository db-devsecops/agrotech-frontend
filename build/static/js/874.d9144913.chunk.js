"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[874],{10874:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(1413),i=t(15861),o=t(15671),a=t(43144),s=t(87757),f=(t(32224),t(77822)),u=t(5878),l=t(82386),c=t(16370),p=t(12913),v=t(17445),y=t(78519),m=t(88708),h=t(1792),d=t(27488),x=t(19242),k=t(13179),w=function(){function e(){(0,o.Z)(this,e)}return(0,a.Z)(e,[{key:"convertVectorFieldData",value:function(e){var r=l.Z.fromJSON(e.pixelBlock),t=(0,m.KC)(r,e.type);return Promise.resolve((0,f.pC)(t)&&t.toJSON())}},{key:"decode",value:function(){var e=(0,i.Z)(s.mark((function e(r){var t;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.J)(r.data,r.options);case 2:return t=e.sent,e.abrupt("return",t&&t.toJSON());case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"symbolize",value:function(e){e.pixelBlock=l.Z.fromJSON(e.pixelBlock),e.extent=e.extent?k.Z.fromJSON(e.extent):null;var r=this.symbolizer.symbolize(e);return Promise.resolve((0,f.pC)(r)&&r.toJSON())}},{key:"updateSymbolizer",value:function(){var e=(0,i.Z)(s.mark((function e(r){var t;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.symbolizer=d.Z.fromJSON(r.symbolizerJSON),r.histograms&&"rasterStretch"===(null===(t=this.symbolizer)||void 0===t?void 0:t.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=r.histograms);case 1:case"end":return e.stop()}}),e,this)})));return function(r){return e.apply(this,arguments)}}()},{key:"stretch",value:function(e){var r=this.symbolizer.simpleStretch(l.Z.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve((0,f.pC)(r)&&r.toJSON())}},{key:"estimateStatisticsHistograms",value:function(e){var r=(0,y.Hv)(l.Z.fromJSON(e.srcPixelBlock));return Promise.resolve(r)}},{key:"split",value:function(e){var r=(0,p.Vl)(l.Z.fromJSON(e.srcPixelBlock),e.tileSize,e.maximumPyramidLevel);return r&&r.forEach((function(e,t){r.set(t,null===e||void 0===e?void 0:e.toJSON())})),Promise.resolve(r)}},{key:"mosaicAndTransform",value:function(){var e=(0,i.Z)(s.mark((function e(r){var t,n,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.srcPixelBlocks.map((function(e){return e?new l.Z(e):null})),i=(0,p.us)(n,r.srcMosaicSize,{blockWidths:r.blockWidths,alignmentInfo:r.alignmentInfo,clipOffset:r.clipOffset,clipSize:r.clipSize}),a=i,e.abrupt("return",(r.coefs&&(a=(0,p.Uk)(i,r.destDimension,r.coefs,r.sampleSpacing,r.interpolation)),r.projectDirections&&r.gcsGrid&&(o=(0,p.Qh)(r.destDimension,r.gcsGrid),a=(0,f.Wg)((0,m.xQ)(a,r.isUV?"vector-uv":"vector-magdir",o))),{pixelBlock:null===(t=a)||void 0===t?void 0:t.toJSON(),localNorthDirections:o}));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},{key:"createFlowMesh",value:function(){var e=(0,i.Z)(s.mark((function e(r,t){var n,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:new Float32Array(r.flowData.buffer),mask:new Uint8Array(r.flowData.maskBuffer),width:r.flowData.width,height:r.flowData.height},e.next=3,(0,x.GE)(r.meshType,r.simulationSettings,n,t.signal);case 3:return i=e.sent,o=i.vertexData,a=i.indexData,e.abrupt("return",{result:{vertexBuffer:o.buffer,indexBuffer:a.buffer},transferList:[o.buffer,a.buffer]});case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"getProjectionOffsetGrid",value:function(){var e=(0,i.Z)(s.mark((function e(r){var t,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=k.Z.fromJSON(r.projectedExtent),i=k.Z.fromJSON(r.srcBufferExtent),o=null,r.datumTransformationSteps&&(o=new u.Z({steps:r.datumTransformationSteps})),e.t0=r.includeGCSGrid||(0,v.Mk)(t.spatialReference,i.spatialReference,o),!e.t0){e.next=7;break}return e.next=7,(0,v.zD)();case 7:return a=r.rasterTransform?(0,h.c)(r.rasterTransform):null,e.abrupt("return",(0,v.Qp)((0,n.Z)((0,n.Z)({},r),{},{projectedExtent:t,srcBufferExtent:i,datumTransformation:o,rasterTransform:a})));case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}]),e}()},25886:function(e,r,t){t.d(r,{Z:function(){return p}});var n=t(15671),i=t(43144),o=t(60136),a=t(29388),s=t(98248),f=t(8410),u=t(35569),l=(t(59537),t(65343),t(61340),t(48916)),c=function(e){(0,o.Z)(t,e);var r=(0,a.Z)(t);function t(){return(0,n.Z)(this,t),r.apply(this,arguments)}return(0,i.Z)(t,[{key:"affectsPixelSize",get:function(){return!1}},{key:"forwardTransform",value:function(e){return e}},{key:"inverseTransform",value:function(e){return e}}]),t}(f.wq);(0,s._)([(0,u.Cb)()],c.prototype,"affectsPixelSize",null),(0,s._)([(0,u.Cb)({json:{write:!0}})],c.prototype,"spatialReference",void 0);var p=c=(0,s._)([(0,l.j)("esri.layers.support.rasterTransforms.BaseRasterTransform")],c)},63325:function(e,r,t){t.d(r,{Z:function(){return p}});var n=t(15671),i=t(43144),o=t(60136),a=t(29388),s=t(98248),f=t(35569),u=(t(59537),t(65343),t(61340),t(92167)),l=t(48916),c=function(e){(0,o.Z)(t,e);var r=(0,a.Z)(t);function t(){var e;return(0,n.Z)(this,t),(e=r.apply(this,arguments)).type="gcs-shift",e.tolerance=1e-8,e}return(0,i.Z)(t,[{key:"forwardTransform",value:function(e){return"point"===(e=e.clone()).type?(e.x>180+this.tolerance&&(e.x-=360),e):(e.xmin>=180-this.tolerance?(e.xmax-=360,e.xmin-=360):e.xmax>180+this.tolerance&&(e.xmin=-180,e.xmax=180),e)}},{key:"inverseTransform",value:function(e){return"point"===(e=e.clone()).type?(e.x<-this.tolerance&&(e.x+=360),e):(e.xmin<-this.tolerance&&(e.xmin+=360,e.xmax+=360),e)}}]),t}(t(25886).Z);(0,s._)([(0,u.J)({GCSShiftXform:"gcs-shift"})],c.prototype,"type",void 0),(0,s._)([(0,f.Cb)()],c.prototype,"tolerance",void 0);var p=c=(0,s._)([(0,l.j)("esri.layers.support.rasterTransforms.GCSShiftTransform")],c)},35186:function(e,r,t){t.d(r,{Z:function(){return w}});var n=t(15671),i=t(43144),o=t(60136),a=t(29388),s=t(29439),f=t(98248),u=(t(32224),t(35569)),l=(t(59537),t(65343),t(61340),t(92167)),c=t(96326),p=t(48916),v=t(57),y=t(25886),m=t(3717),h=t(13179);function d(e,r,t){var n=r.x,i=r.y;if(t<2)return{x:e[0]+n*e[2]+i*e[4],y:e[1]+n*e[3]+i*e[5]};if(2===t){var o=n*n,a=i*i,s=n*i;return{x:e[0]+n*e[2]+i*e[4]+o*e[6]+s*e[8]+a*e[10],y:e[1]+n*e[3]+i*e[5]+o*e[7]+s*e[9]+a*e[11]}}var f=n*n,u=i*i,l=n*i,c=f*n,p=f*i,v=n*u,y=i*u;return{x:e[0]+n*e[2]+i*e[4]+f*e[6]+l*e[8]+u*e[10]+c*e[12]+p*e[14]+v*e[16]+y*e[18],y:e[1]+n*e[3]+i*e[5]+f*e[7]+l*e[9]+u*e[11]+c*e[13]+p*e[15]+v*e[17]+y*e[19]}}function x(e,r,t){var n=r.xmin,i=r.ymin,o=r.xmax,a=r.ymax,s=r.spatialReference,f=[];if(t<2)f.push({x:n,y:a}),f.push({x:o,y:a}),f.push({x:n,y:i}),f.push({x:o,y:i});else{for(var u=10,l=0;l<u;l++)f.push({x:n,y:i+(a-i)*l/(u-1)}),f.push({x:o,y:i+(a-i)*l/(u-1)});u=8;for(var c=1;c<=u;c++)f.push({x:n+(o-n)*c/u,y:i}),f.push({x:n+(o-n)*c/u,y:a})}f=f.map((function(r){return d(e,r,t)}));var p=f.map((function(e){return e.x})),v=f.map((function(e){return e.y}));return new h.Z({xmin:Math.min.apply(null,p),xmax:Math.max.apply(null,p),ymin:Math.min.apply(null,v),ymax:Math.max.apply(null,v),spatialReference:s})}var k=function(e){(0,o.Z)(t,e);var r=(0,a.Z)(t);function t(){var e;return(0,n.Z)(this,t),(e=r.apply(this,arguments)).polynomialOrder=1,e.type="polynomial",e}return(0,i.Z)(t,[{key:"readForwardCoefficients",value:function(e,r){var t=r.coeffX,n=r.coeffY;if(null===t||void 0===t||!t.length||null===n||void 0===n||!n.length||t.length!==n.length)return null;for(var i=[],o=0;o<t.length;o++)i.push(t[o]),i.push(n[o]);return i}},{key:"writeForwardCoefficients",value:function(e,r,t){for(var n=[],i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o++)o%2==0?n.push(e[o]):i.push(e[o]);r.coeffX=n,r.coeffY=i}},{key:"inverseCoefficients",get:function(){var e=this._get("inverseCoefficients"),r=this._get("forwardCoefficients");return!e&&r&&this.polynomialOrder<2&&(e=function(e){var r=(0,s.Z)(e,6),t=r[0],n=r[1],i=r[2],o=r[3],a=r[4],f=r[5],u=i*f-a*o,l=a*o-i*f;return[(a*n-t*f)/u,(i*n-t*o)/l,f/u,o/l,-a/u,-i/l]}(r)),e},set:function(e){this._set("inverseCoefficients",e)}},{key:"readInverseCoefficients",value:function(e,r){var t=r.inverseCoeffX,n=r.inverseCoeffY;if(null===t||void 0===t||!t.length||null===n||void 0===n||!n.length||t.length!==n.length)return null;for(var i=[],o=0;o<t.length;o++)i.push(t[o]),i.push(n[o]);return i}},{key:"writeInverseCoefficients",value:function(e,r,t){for(var n=[],i=[],o=0;o<(null===e||void 0===e?void 0:e.length);o++)o%2==0?n.push(e[o]):i.push(e[o]);r.inverseCoeffX=n,r.inverseCoeffY=i}},{key:"affectsPixelSize",get:function(){return this.polynomialOrder>0}},{key:"forwardTransform",value:function(e){if("point"===e.type){var r=d(this.forwardCoefficients,e,this.polynomialOrder);return new m.Z({x:r.x,y:r.y,spatialReference:e.spatialReference})}return x(this.forwardCoefficients,e,this.polynomialOrder)}},{key:"inverseTransform",value:function(e){if("point"===e.type){var r=d(this.inverseCoefficients,e,this.polynomialOrder);return new m.Z({x:r.x,y:r.y,spatialReference:e.spatialReference})}return x(this.inverseCoefficients,e,this.polynomialOrder)}}]),t}(y.Z);(0,f._)([(0,u.Cb)({json:{write:!0}})],k.prototype,"polynomialOrder",void 0),(0,f._)([(0,u.Cb)()],k.prototype,"forwardCoefficients",void 0),(0,f._)([(0,c.r)("forwardCoefficients",["coeffX","coeffY"])],k.prototype,"readForwardCoefficients",null),(0,f._)([(0,v.c)("forwardCoefficients")],k.prototype,"writeForwardCoefficients",null),(0,f._)([(0,u.Cb)({json:{write:!0}})],k.prototype,"inverseCoefficients",null),(0,f._)([(0,c.r)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],k.prototype,"readInverseCoefficients",null),(0,f._)([(0,v.c)("inverseCoefficients")],k.prototype,"writeInverseCoefficients",null),(0,f._)([(0,u.Cb)()],k.prototype,"affectsPixelSize",null),(0,f._)([(0,l.J)({PolynomialXform:"polynomial"})],k.prototype,"type",void 0);var w=k=(0,f._)([(0,p.j)("esri.layers.support.rasterTransforms.PolynomialTransform")],k)},1792:function(e,r,t){t.d(r,{j:function(){return h},c:function(){return d}});var n=t(63325),i=t(43144),o=t(15671),a=t(60136),s=t(29388),f=t(98248),u=(t(84615),t(61340),t(59537),t(65343),t(27445),t(92167)),l=t(48916),c=function(e){(0,a.Z)(t,e);var r=(0,s.Z)(t);function t(){var e;return(0,o.Z)(this,t),(e=r.apply(this,arguments)).type="identity",e}return(0,i.Z)(t)}(t(25886).Z);(0,f._)([(0,u.J)({IdentityXform:"identity"})],c.prototype,"type",void 0);var p=c=(0,f._)([(0,l.j)("esri.layers.support.rasterTransforms.IdentityTransform")],c),v=t(35186),y={GCSShiftXform:n.Z,IdentityXform:p,PolynomialXform:v.Z},m=Object.keys(y);function h(e){var r=null===e||void 0===e?void 0:e.type;return!e||m.includes(r)}function d(e){if(!(null===e||void 0===e?void 0:e.type))return null;var r=y[null===e||void 0===e?void 0:e.type];if(r){var t=new r;return t.read(e),t}return null}}}]);