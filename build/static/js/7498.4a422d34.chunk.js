"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[7498],{49845:function(e,t,a){a.d(t,{Z:function(){return c}});a(47313);var n=a(57829),s=a(61113),l=a(33286),o=(a(45214),a(46417)),i={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,outline:"none",p:4};function c(e){var t=e.openModal,a=e.handleCloseModal,c=e.text,r=e.deleteModal;return(0,o.jsx)("div",{children:(0,o.jsx)(l.Z,{open:t,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(n.Z,{sx:i,children:[(0,o.jsx)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:c}),(0,o.jsxs)("div",{className:"delete-modal-btns",children:[(0,o.jsx)("button",{onClick:r,className:"confirm",children:"Yes"}),(0,o.jsx)("button",{onClick:a,className:"delete",children:"No"})]})]})})})}},46495:function(e,t,a){a.d(t,{Z:function(){return s}});a(47313);var n=a(46417);function s(e){var t=e.text,a=e.trigger;return(0,n.jsx)("button",{className:"green-btn",onClick:a,children:t})}},45214:function(e,t,a){a.d(t,{Z:function(){return l}});a(47313);var n=a(97477),s=a(46417);function l(e){var t=e.text,a=e.trigger;return(0,s.jsxs)("div",{className:"green-btn-container",children:[(0,s.jsx)("button",{className:"red-button",onClick:a,children:t}),(0,s.jsx)("img",{className:"green-plus",src:n})]})}},57731:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(1413),s=a(47313),l=a(4942),o=a(93433),i=a(29439),c=a(97890),r=a(46495),d=a(44648),u=a(36605),h=a(24554),p=a(1084),x=a(9038),m=a(61378),j=a.n(m),g=a(56605),v=(a(4660),a(49845)),A=(a(72632),a(90501)),f=a(77703),N=a(7861),C=a(70816),b=a.n(C),S=a(8512),Z=(a(88282),a(57864)),M=a(46417);var y=function(e){var t=sessionStorage.getItem("token"),a=(0,N.Z)(t),n=(0,s.useState)([]),p=(0,i.Z)(n,2),x=p[0],m=p[1],A=(0,s.useState)(""),f=(0,i.Z)(A,2),C=f[0],y=f[1],R=(0,s.useState)(localStorage.getItem("Report Compilation")?Number(localStorage.getItem("Report Compilation")):1),w=(0,i.Z)(R,2),D=w[0],k=w[1],B=(0,s.useState)(1),P=(0,i.Z)(B,2),Y=P[0],E=P[1],U=(0,s.useState)(new Date),F=(0,i.Z)(U,2),I=F[0],T=F[1],L=(0,s.useState)(new Date),W=(0,i.Z)(L,2),q=W[0],K=W[1],G=(0,s.useState)(1),X=(0,i.Z)(G,2),V=X[0],H=X[1],O=(0,s.useState)(""),Q=(0,i.Z)(O,2),J=Q[0],z=Q[1],_=(0,s.useState)([]),$=(0,i.Z)(_,2),ee=$[0],te=$[1],ae=(0,s.useState)(null),ne=(0,i.Z)(ae,2),se=ne[0],le=ne[1],oe=(0,s.useState)(""),ie=(0,i.Z)(oe,2),ce=ie[0],re=ie[1],de=(0,s.useState)(1),ue=(0,i.Z)(de,2),he=ue[0],pe=ue[1],xe=(0,s.useState)("APPROVED"),me=(0,i.Z)(xe,2),je=me[0],ge=me[1],ve=(0,s.useState)("10"),Ae=(0,i.Z)(ve,2),fe=Ae[0],Ne=Ae[1],Ce=(0,s.useState)([]),be=(0,i.Z)(Ce,2),Se=be[0],Ze=be[1],Me=s.useState(!1),ye=(0,i.Z)(Me,2),Re=ye[0],we=ye[1],De=(0,s.useState)(""),ke=(0,i.Z)(De,2),Be=ke[0],Pe=ke[1],Ye=(0,s.useState)(!0),Ee=(0,i.Z)(Ye,2),Ue=Ee[0],Fe=(Ee[1],function(){return we(!1)}),Ie=(0,c.s0)(),Te=function(){var t,n=b().duration(b()(q).diff(b()(I)));(n=Math.ceil(n.asDays()))<=0&&I.setDate(I.getDate()-90);var s=b()(I).format("YYYY-MM-DD"),o=b()(q).format("YYYY-MM-DD"),i=(t={page:D,branchCode:a.branchCode,limit:fe,search:C,status:je,searchType:se,startDate:s,endDate:o,headerType:se},(0,l.Z)(t,"searchType",se?1:0),(0,l.Z)(t,ce,he),(0,l.Z)(t,"isReportCreated",""),t);e.getAllApplications(i).then((function(e){k(e.data.pageMeta.page),E(e.data.pageMeta.totalPages),H(e.data.pageMeta.total),m(e.data.list),z(e.data.list.length),te(e.data.pageMeta.sNo)})).catch((function(e){console.log(e)}))};return(0,s.useEffect)((function(){Te()}),[C,D,I,se,q,je,fe,he,ce]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(S.Ix,{}),(0,M.jsxs)("div",{className:"landRecords-container",children:[(0,M.jsx)("h3",{children:"Report Compilation"}),(0,M.jsx)("div",{className:"btn-container",children:(0,M.jsx)("div",{style:{marginTop:30,marginRight:20,display:"flex",gap:20},children:(0,M.jsx)(r.Z,{text:"Upload Reports",trigger:function(){Ie("/new-customer-records",{state:{type:"new",from:"Report Compilation",backRoute:"/report-compilation"}})}})})})]}),(0,M.jsxs)("div",{className:"search-container search-items space-between",children:[(0,M.jsx)("div",{children:Ue&&(0,M.jsx)("div",{className:"landRecords-container",children:(0,M.jsxs)("div",{className:"search-flex",children:[(0,M.jsxs)("div",{children:[(0,M.jsx)(d.Z,{title:"Search",search:y,value:C}),C?(0,M.jsx)(Z.oHP,{className:"close-icon",onClick:function(){pe(1),re(""),Ne(""),y("")}}):(0,M.jsx)(Z.RB5,{className:"close-icon"})]}),(0,M.jsxs)("div",{className:"searchby-search",style:{marginTop:-23},children:[(0,M.jsx)("span",{className:"role-text",children:"Search By"}),(0,M.jsxs)("select",{className:"select",name:"searchType",id:"searchType",onChange:function(e){le(e.target.value)},children:[(0,M.jsx)("option",{value:"",selected:!0,children:"Select an Option"}),(0,M.jsx)("option",{value:"0",children:"Branch Code"}),(0,M.jsx)("option",{value:"1",children:"CIF Account Number"}),(0,M.jsx)("option",{value:"2",children:"Survey Number"}),(0,M.jsx)("option",{value:"3",children:"Village"}),(0,M.jsx)("option",{value:"4",children:"Mandal"}),(0,M.jsx)("option",{value:"5",children:"District"}),(0,M.jsx)("option",{value:"7",children:"Comments"}),(0,M.jsx)("option",{value:"8",children:"Filter by Resolved"})]})]})]})})}),(0,M.jsxs)("div",{className:"flex-container",children:[(0,M.jsxs)("div",{className:"status-search",style:{marginTop:"0px"},children:[(0,M.jsx)("span",{className:"role-text",children:"Approval Status"}),(0,M.jsxs)("select",{className:"select",name:"roles",id:"roles",onChange:function(e){ge(e.target.value)},children:[(0,M.jsx)("option",{value:"",selected:!0,children:"All"}),(0,M.jsxs)("option",{value:"approved",selected:!0,children:["Approved"," "]}),(0,M.jsx)("option",{value:"Pending",children:"Pending"}),(0,M.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,M.jsxs)("div",{className:"date-picker-container",children:[(0,M.jsx)("span",{className:"role-text",children:"Start Date"}),(0,M.jsxs)("div",{className:"date-picker",children:[(0,M.jsx)(j(),{className:"select",selected:I,placeholderText:"Start Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){T(e);var t=b().duration(b()(q).diff(b()(e)));Math.ceil(t.asDays())<=0&&K(e)}(e)}}),(0,M.jsx)("img",{src:g,alt:"calendar-icon",className:"calendar-icon"})]})]}),(0,M.jsxs)("div",{className:"date-picker-container",children:[(0,M.jsx)("span",{className:"role-text",children:"End Date"}),(0,M.jsxs)("div",{className:"date-picker",children:[(0,M.jsx)(j(),{className:"select",selected:q,minDate:I,placeholderText:"End Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){K(e)}(e)}}),(0,M.jsx)("img",{src:g,alt:"calendar-icon",className:"calendar-icon"})]})]})]})]}),(0,M.jsxs)("div",{className:"table-container",children:[(0,M.jsx)(u.Z,{landRecords:x,deleteRecord:function(e){we(!0),Pe(e)},tabName:"Report Compilation",changeApplicationStatus:function(t){var a={id:t};e.editApplications(a,{reportApprovalStatus:"APPROVED"}).then((function(e){S.Am.success(e.message,{autoClose:1e3}),Te()})).catch((function(e){S.Am.error(e.data,{autoClose:1e3})}))},upperLimit:D*J-10,lowerLimit:D,page:D,totalItemsCount:V,pageNumbers:Y,filter:function(e){re(e),pe(1===he?-1:1)},getCheckboxID:function(e,t){var a=(0,o.Z)(Se);t.target.checked?a=[].concat((0,o.Z)(Se),[e]):a.splice(Se.indexOf(e),1),Ze(a)},sNo:ee,decoded:a}),(null===x||void 0===x?void 0:x.length)>0?(0,M.jsxs)("div",{className:"table-footer",children:["".concat(ee[0]," - ").concat(ee[J-1]," of ").concat(V),(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{className:"role-text",children:"Show"}),(0,M.jsxs)("select",{className:"select",name:"limit",id:"limit",onChange:function(e){Ne(e.target.value)},children:[(0,M.jsx)("option",{value:"5",children:"5"}),(0,M.jsx)("option",{value:"10",selected:!0,children:"10"}),(0,M.jsx)("option",{value:"15",children:"15"}),(0,M.jsx)("option",{value:"20",children:"20"}),(0,M.jsx)("option",{value:"25",children:"25"}),(0,M.jsx)("option",{value:"50",children:"50"}),(0,M.jsx)("option",{value:"100",children:"100"}),(0,M.jsx)("option",{value:"0",children:"All"})]}),(0,M.jsx)("span",{className:"role-text",children:"Per Page"})]}),"0"===fe?(0,M.jsx)(M.Fragment,{}):(0,M.jsx)(h.Z,{pageNumbers:Y>3?3:Y,totalItemsCount:V,selectPage:function(e){k(e)},pageName:"Report Compilation",isPrevPage:!0})]}):(0,M.jsx)(M.Fragment,{})]}),(0,M.jsx)(v.Z,{text:"Are you sure you want to delete this Report?",openModal:Re,handleCloseModal:Fe,deleteModal:function(){var t={id:Be};e.deleteLands(t).then((function(e){Te(),Fe(),S.Am.error("Report Deleted",{autoClose:1e3})})).catch((function(e){}))}})]})},R=(0,p.$j)(null,(function(e){return(0,x.DE)({getAllLands:A.Kb,deleteLands:A.V3,downloadLands:A.g3,getAllApplications:f.Rl,editApplications:f.Ll,downloadSelectedLands:A.RG},e)}))(y);function w(e){return(0,M.jsx)(R,(0,n.Z)({},e))}},97477:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK4SURBVHgBrVZNbhMxFH52ghBsOukFcKYH6HACgoRAYtNwArJllWZBBasmK0QDCjlBwwmgy0ogpidILtB2OEG9AQpqbL7nzESZZmbyozwp8djv+X3Pfn8WVECqrTy6RzVZkntkqUaCPIwe8yzZkRBiJIw4Oz84HxTpEXkMv+sfgrvvlArS1jqlUcLHXGEexKC8Prh4fdFZCkS9U0qUxRdBIoC1IX4d+kWjqB3pLAXqSDUA1mR5BjM35nH0NopyQbAhkFL+mJhKHVj2iZYkBpNC9vjbWAAdRKM5ED6BvCOHUK6zrFkKiHWUnZEedDxMdMhEIGbSugBMvI/3O+tx5cl6if/8j3Cypbqw4tXlm8uQCizdfrZ9vPV861Sf6ussGf1d68rTyl/4qFF5UhFX367CyUkMNTgkF4UilUnhgut0TUGRGPuSgwb31FQ95Ul2GBsprezTBslFJXxD/5BnoEeY6IWnWJXKxNGlEXF7EpCcDyPaMEWtSDu9gmplzAM4fHBbyJWUu+m7h1W7MIojMUAQzOmdi0pDP+GXoEw5VLpfOrbC1lOLdvrVA1CaZe0JhnqGKo9BMsvFeDxu4V5TwSBJ8sk4q1uGTPqKf1PulTsQWKxuM+KjR7NrqqsYiBN2BH5Ii0jSA/aLtMaecXHjeKYNE+vldiBtyX4ljucFCbYqxfnncb+RKCwhJhq15pA2SFz+MUScf5LjGZM+jlbz3/v7hTs5wQTxyaMiMddjuL8Y+uwAE0a1Wx2CoWZL9Do02zJQw6q8Ng12e2NfuAWUfBakNWimn1BS8lMgrhdYx/AgONw52mnQCuR/8JvuBHhsGJPuSaLAGjWJcdnPK55J6eGgYZ+yPN9IYY9PWdb12xhesq6FrxXwMfbhg3aWrlyQqbWT10gNn7vxi4RipRpjaMbmhP5QmPeaYfoPxL9GyMP66mAAAAAASUVORK5CYII="}}]);