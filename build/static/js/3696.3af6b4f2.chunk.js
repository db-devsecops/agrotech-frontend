"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[3696],{49845:function(e,t,n){n.d(t,{Z:function(){return c}});n(47313);var a=n(57829),o=n(61113),r=n(33286),i=(n(45214),n(46417)),s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,outline:"none",p:4};function c(e){var t=e.openModal,n=e.handleCloseModal,c=e.text,l=e.deleteModal;return(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(a.Z,{sx:s,children:[(0,i.jsx)(o.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:c}),(0,i.jsxs)("div",{className:"delete-modal-btns",children:[(0,i.jsx)("button",{onClick:l,className:"confirm",children:"Yes"}),(0,i.jsx)("button",{onClick:n,className:"delete",children:"No"})]})]})})})}},46495:function(e,t,n){n.d(t,{Z:function(){return o}});n(47313);var a=n(46417);function o(e){var t=e.text,n=e.trigger;return(0,a.jsx)("button",{className:"green-btn",onClick:n,children:t})}},40937:function(e,t,n){n.d(t,{Z:function(){return i}});n(47313);var a=n(85281),o=n(57829),r=n(46417);function i(){return(0,r.jsx)(o.Z,{sx:{display:"flex"},children:(0,r.jsx)(a.Z,{})})}},45214:function(e,t,n){n.d(t,{Z:function(){return r}});n(47313);var a=n(97477),o=n(46417);function r(e){var t=e.text,n=e.trigger;return(0,o.jsxs)("div",{className:"green-btn-container",children:[(0,o.jsx)("button",{className:"red-button",onClick:n,children:t}),(0,o.jsx)("img",{className:"green-plus",src:a})]})}},37188:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var a=n(47313),o=(n(49659),n(4942)),r=n(29439),i=n(61378),s=n.n(i),c=(n(72632),n(56605)),l=n(97890),d=n(46495),u=n(44648),p=n(24554),h=n(1084),m=n(9038),f=n(8512),v=(n(88282),n(36605)),g=n(90501),x=n(40937),j=n(77703),Z=n(57864),A=n(49845),y=n(70816),C=n.n(y),N=n(34956),b=n(7861),M=n(46417);var w=function(e){var t=sessionStorage.getItem("token"),n=(0,b.Z)(t),i=(0,l.TH)().state,h=(0,a.useState)(!0),m=(0,r.Z)(h,2),g=m[0],j=m[1],y=(0,a.useState)(""),N=(0,r.Z)(y,2),w=N[0],S=N[1],B=(0,a.useState)(!1),D=(0,r.Z)(B,2),k=D[0],P=D[1],Y=(0,a.useState)(1),R=(0,r.Z)(Y,2),T=R[0],W=R[1],E=(0,a.useState)("10"),K=(0,r.Z)(E,2),F=K[0],U=K[1],I=(0,a.useState)(localStorage.getItem("KCC Applications")?Number(localStorage.getItem("KCC Applications")):1),L=(0,r.Z)(I,2),q=L[0],G=L[1],H=(0,a.useState)(""),X=(0,r.Z)(H,2),J=X[0],O=X[1],Q=(0,a.useState)([]),V=(0,r.Z)(Q,2),z=V[0],_=V[1],$=(0,a.useState)((null===i||void 0===i?void 0:i.id)||""),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1],ae=(0,a.useState)(1),oe=(0,r.Z)(ae,2),re=oe[0],ie=oe[1],se=(0,a.useState)(1),ce=(0,r.Z)(se,2),le=ce[0],de=ce[1],ue=(0,a.useState)(""),pe=(0,r.Z)(ue,2),he=pe[0],me=pe[1],fe=(0,a.useState)(""),ve=(0,r.Z)(fe,2),ge=ve[0],xe=ve[1],je=(0,a.useState)(1),Ze=(0,r.Z)(je,1)[0],Ae=(0,a.useState)(""),ye=(0,r.Z)(Ae,2),Ce=ye[0],Ne=ye[1],be=(0,a.useState)(!0),Me=(0,r.Z)(be,2),we=Me[0],Se=Me[1],Be=(0,a.useState)(null),De=(0,r.Z)(Be,2),ke=De[0],Pe=De[1],Ye=(0,a.useState)([]),Re=(0,r.Z)(Ye,2),Te=Re[0],We=Re[1],Ee=(0,a.useState)(""),Ke=(0,r.Z)(Ee,2),Fe=Ke[0],Ue=Ke[1],Ie=[{id:"",name:"All"},{id:"Approved",name:"Approved"},{id:"Pending",name:"Pending"},{id:"Rejected",name:"Rejected"}],Le=function(){return P(!1)},qe=(0,l.s0)(),Ge=function(){var t,n=C().duration(C()(ge).diff(C()(he)));(n=Math.ceil(n.asDays()))<=0&&(z.length>0?he.setDate(he.getDate()):he.setDate(he.getDate()-7));var a=(t={page:q,status:te,search:w,limit:F,startDate:he?C()(he).format("YYYY-MM-DD"):"",endDate:ge?C()(ge).format("YYYY-MM-DD"):"",searchType:ke?1:0},(0,o.Z)(t,"search",w),(0,o.Z)(t,"headerType",ke||""),(0,o.Z)(t,J,T),(0,o.Z)(t,"isReportCreated",""),t);e.getAllApplications(a).then((function(e){j(!1),_(e.data.list),G(e.data.pageMeta.page),ie(e.data.pageMeta.totalPages),de(e.data.pageMeta.total),Ne(e.data.list.length),We(e.data.pageMeta.sNo)})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){W(1)}),[J]),(0,a.useEffect)((function(){Ge()}),[w,te,Ze,q,T,he,ge,ke,F]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(f.Ix,{}),(0,M.jsxs)("div",{className:"customerDatabase-container",children:[(0,M.jsx)("h3",{children:"KCC Applications"}),(0,M.jsxs)("div",{className:"kcc-btns",children:[(0,M.jsx)(d.Z,{text:"Bulk Upload History",trigger:function(){qe("/bulk-history")}}),"ROLE_8"===(null===n||void 0===n?void 0:n.roleId)?(0,M.jsx)(M.Fragment,{}):(0,M.jsx)(d.Z,{text:"Download Agrotech Applications",trigger:function(){window.open("https://apipreprod.agrotechindia.co.in/api/v1/application/agrotechapplicationsdownload")}}),(0,M.jsx)(d.Z,{text:"New Application",trigger:function(){qe("/new-customer-records",{state:{type:"new",from:"KCC Applications",backRoute:"/kcc-applications",tabName:"KCC Applications"}})}}),(0,M.jsx)(d.Z,{text:"Download",trigger:function(){ke?window.open("https://apipreprod.agrotechindia.co.in/api/v1/application/download?status=".concat(te,"&startDate=").concat(he?C()(he).format("YYYY-MM-DD"):"","&endDate=").concat(ge?C()(ge).format("YYYY-MM-DD"):"","&search=").concat(w,"&searchType=1&headerType=").concat(ke,"&").concat(null!==n&&void 0!==n&&n.branchCode?"&branchCode=".concat(null===n||void 0===n?void 0:n.branchCode):"")):window.open("https://apipreprod.agrotechindia.co.in/api/v1/application/download?status=".concat(te,"&search=").concat(w,"&searchType=0").concat(null!==n&&void 0!==n&&n.branchCode?"&branchCode=".concat(null===n||void 0===n?void 0:n.branchCode):""))}})]})]}),(0,M.jsxs)("div",{className:"search-container search-items space-between",children:[(0,M.jsx)("div",{children:(0,M.jsxs)("div",{className:"landRecords-container",children:[we&&(0,M.jsxs)("div",{className:"searchIcon-container",children:[(0,M.jsx)(u.Z,{search:S,value:w,title:"Search"}),w?(0,M.jsx)(Z.oHP,{className:"close-icon",onClick:function(){W(1),O(""),U(""),S("")}}):(0,M.jsx)(Z.RB5,{className:"close-icon"})]}),(0,M.jsxs)("div",{className:"searchby-search",style:{marginTop:"-10px"},children:[(0,M.jsx)("span",{className:"role-text",children:"Search By"}),(0,M.jsxs)("select",{className:"select",name:"searchType",id:"searchType",onChange:function(e){Pe(e.target.value),"7"===e.target.value?Se(!1):Se(!0)},children:[(0,M.jsx)("option",{value:"",selected:!0,children:"Select an Option"}),(0,M.jsx)("option",{value:"0",children:"Branch Code"}),(0,M.jsx)("option",{value:"1",children:"CIF Account Number"}),(0,M.jsx)("option",{value:"2",children:"Survey Number"}),(0,M.jsx)("option",{value:"3",children:"Village"}),(0,M.jsx)("option",{value:"4",children:"Mandal"}),(0,M.jsx)("option",{value:"5",children:"District"}),(0,M.jsx)("option",{value:"7",children:"Comments"})]})]})]})}),(0,M.jsxs)("div",{className:"flex-container filter-flex",children:[(0,M.jsxs)("div",{className:"status-search",style:{marginTop:"0px"},children:[(0,M.jsx)("span",{className:"role-text",children:"Approval Status"}),(0,M.jsxs)("select",{className:"select",name:"roles",id:"roles",onChange:function(e){ne(e.target.value)},children:[Ie.filter((function(e){return e.id===(null===i||void 0===i?void 0:i.id)})).map((function(e){return(0,M.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})})),Ie.filter((function(e){return e.id!==(null===i||void 0===i?void 0:i.id)})).map((function(e){return(0,M.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name})}))]})]}),(0,M.jsxs)("div",{className:"date-picker-container",children:[(0,M.jsx)("span",{className:"role-text",children:"Start Date"}),(0,M.jsxs)("div",{className:"date-picker",children:[(0,M.jsx)(s(),{className:"select",selected:he,placeholderText:"Start Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){me(e);var t=C().duration(C()(ge).diff(C()(e)));Math.ceil(t.asDays())<=0&&xe(e)}(e)}}),(0,M.jsx)("img",{src:c,alt:"calendar-icon",className:"calendar-icon"})]})]}),(0,M.jsxs)("div",{className:"date-picker-container",children:[(0,M.jsx)("span",{className:"role-text",children:"End Date"}),(0,M.jsxs)("div",{className:"date-picker",children:[(0,M.jsx)(s(),{className:"select",selected:ge,minDate:he,placeholderText:"End Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){xe(e)}(e)}}),(0,M.jsx)("img",{src:c,alt:"calendar-icon",className:"calendar-icon"})]})]})]})]}),(0,M.jsxs)("div",{className:"table-container kcc-table",children:[g?(0,M.jsxs)("div",{className:"loading-container",children:[(0,M.jsx)("h3",{children:"Loading..."}),(0,M.jsx)(x.Z,{})]}):(0,M.jsx)(v.Z,{landRecords:z,deleteRecord:function(e){P(!0),Ue(e)},decoded:n,backroute:"/kcc-applications",backPath:"KCC Applications",tabName:"KCC Applications",filter:function(e){O(e),W(1===T?-1:1)},ascendingFilter:T,header:J,limit:F,sNo:Te}),(null===z||void 0===z?void 0:z.length)>0?(0,M.jsx)("div",{children:(0,M.jsxs)("div",{className:"table-footer",children:["".concat(Te[0]," - ").concat(Te[Ce-1]," of ").concat(le),(0,M.jsxs)("div",{children:[(0,M.jsx)("span",{className:"role-text",children:"Show"}),(0,M.jsxs)("select",{className:"select",name:"limit",id:"limit",onChange:function(e){U(e.target.value)},children:[(0,M.jsx)("option",{value:"5",children:"5"}),(0,M.jsx)("option",{value:"10",children:"10"}),(0,M.jsx)("option",{value:"15",children:"15"}),(0,M.jsx)("option",{value:"20",children:"20"}),(0,M.jsx)("option",{value:"25",children:"25"}),(0,M.jsx)("option",{value:"50",children:"50"}),(0,M.jsx)("option",{value:"100",children:"100"}),(0,M.jsx)("option",{value:"0",selected:!0,children:"All"})]}),(0,M.jsx)("span",{className:"role-text",children:"Per Page"})]}),"0"===F?(0,M.jsx)(M.Fragment,{}):(0,M.jsx)(p.Z,{pageNumbers:re>3?3:re,totalItemsCount:le,selectPage:function(e){G(e)},pageName:"KCC Applications",isPrevPage:!0})]})}):(0,M.jsx)(M.Fragment,{})]}),(0,M.jsx)(A.Z,{text:"Are you sure you want to delete this application?",openModal:k,handleCloseModal:Le,deleteModal:function(){var t={id:Fe};e.deleteApplications(t).then((function(e){f.Am.success("Application Deleted",{autoClose:1e3}),Le(),Ge()})).catch((function(e){f.Am.error("Cannot Delete Application",{autoClose:1e3})}))}})]})},S=(0,h.$j)(null,(function(e){return(0,m.DE)({getAllLands:g.Kb,getAllUsers:N.AW,deleteCustomer:N.LA,addCustomerByStaff:N.C9,deleteLands:g.V3,getAllApplications:j.Rl,deleteApplications:j.JO},e)}))(w);function B(){return(0,M.jsx)("div",{className:"flex-container",children:(0,M.jsx)("div",{className:"main-container",children:(0,M.jsx)(S,{})})})}},57829:function(e,t,n){n.d(t,{Z:function(){return f}});var a=n(87462),o=n(63366),r=n(47313),i=n(83061),s=n(80297),c=n(63649),l=n(39028),d=n(84647),u=n(46417),p=["className","component"];var h=n(80672),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=e.defaultClassName,h=void 0===n?"MuiBox-root":n,m=e.generateClassName,f=e.styleFunctionSx,v=void 0===f?c.Z:f,g=(0,s.ZP)("div")(v),x=r.forwardRef((function(e,n){var r=(0,d.Z)(t),s=(0,l.Z)(e),c=s.className,f=s.component,v=void 0===f?"div":f,x=(0,o.Z)(s,p);return(0,u.jsx)(g,(0,a.Z)({as:v,ref:n,className:(0,i.Z)(c,m?m(h):h),theme:r},x))}));return x}({defaultTheme:(0,n(27458).Z)(),defaultClassName:"MuiBox-root",generateClassName:h.Z.generate}),f=m},61113:function(e,t,n){n.d(t,{Z:function(){return j}});var a=n(63366),o=n(87462),r=n(47313),i=n(83061),s=n(39028),c=n(50317),l=n(88564),d=n(29394),u=n(91615),p=n(22131);function h(e){return(0,p.Z)("MuiTypography",e)}(0,n(655).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=n(46417),f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,l.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,u.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),g={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},x={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},j=r.forwardRef((function(e,t){var n=(0,d.Z)({props:e,name:"MuiTypography"}),r=function(e){return x[e]||e}(n.color),l=(0,s.Z)((0,o.Z)({},n,{color:r})),p=l.align,j=void 0===p?"inherit":p,Z=l.className,A=l.component,y=l.gutterBottom,C=void 0!==y&&y,N=l.noWrap,b=void 0!==N&&N,M=l.paragraph,w=void 0!==M&&M,S=l.variant,B=void 0===S?"body1":S,D=l.variantMapping,k=void 0===D?g:D,P=(0,a.Z)(l,f),Y=(0,o.Z)({},l,{align:j,color:r,className:Z,component:A,gutterBottom:C,noWrap:b,paragraph:w,variant:B,variantMapping:k}),R=A||(w?"p":k[B]||g[B])||"span",T=function(e){var t=e.align,n=e.gutterBottom,a=e.noWrap,o=e.paragraph,r=e.variant,i=e.classes,s={root:["root",r,"inherit"!==e.align&&"align".concat((0,u.Z)(t)),n&&"gutterBottom",a&&"noWrap",o&&"paragraph"]};return(0,c.Z)(s,h,i)}(Y);return(0,m.jsx)(v,(0,o.Z)({as:R,ref:t,ownerState:Y,className:(0,i.Z)(T.root,Z)},P))}))},19860:function(e,t,n){n.d(t,{Z:function(){return r}});n(47313);var a=n(84647),o=n(72248);function r(){return(0,a.Z)(o.Z)}},86983:function(e,t,n){var a=n(47472);t.Z=a.Z},39028:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(93433),o=n(87462),r=n(63366),i=n(13019),s=n(29716),c=["sx"];function l(e){var t,n=e.sx,l=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){s.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,r.Z)(e,c)),d=l.systemProps,u=l.otherProps;return t=Array.isArray(n)?[d].concat((0,a.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,i.P)(e)?(0,o.Z)({},d,e):d}:(0,o.Z)({},d,n),(0,o.Z)({},u,{sx:t})}},49081:function(e,t,n){function a(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return a}})},93282:function(e,t,n){n.d(t,{Z:function(){return o}});var a=n(49081);function o(e){return(0,a.Z)(e).defaultView||window}},89265:function(e,t,n){function a(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return a}})},2678:function(e,t,n){var a=n(47313),o="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;t.Z=o},42780:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(47313),o=n(2678);function r(e){var t=a.useRef(e);return(0,o.Z)((function(){t.current=e})),a.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},47472:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(47313),o=n(89265);function r(e,t){return a.useMemo((function(){return null==e&&null==t?null:function(n){(0,o.Z)(e,n),(0,o.Z)(t,n)}}),[e,t])}},20010:function(e,t,n){var a=n(47313);t.Z=a.createContext(null)},49659:function(){},97477:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK4SURBVHgBrVZNbhMxFH52ghBsOukFcKYH6HACgoRAYtNwArJllWZBBasmK0QDCjlBwwmgy0ogpidILtB2OEG9AQpqbL7nzESZZmbyozwp8djv+X3Pfn8WVECqrTy6RzVZkntkqUaCPIwe8yzZkRBiJIw4Oz84HxTpEXkMv+sfgrvvlArS1jqlUcLHXGEexKC8Prh4fdFZCkS9U0qUxRdBIoC1IX4d+kWjqB3pLAXqSDUA1mR5BjM35nH0NopyQbAhkFL+mJhKHVj2iZYkBpNC9vjbWAAdRKM5ED6BvCOHUK6zrFkKiHWUnZEedDxMdMhEIGbSugBMvI/3O+tx5cl6if/8j3Cypbqw4tXlm8uQCizdfrZ9vPV861Sf6ussGf1d68rTyl/4qFF5UhFX367CyUkMNTgkF4UilUnhgut0TUGRGPuSgwb31FQ95Ul2GBsprezTBslFJXxD/5BnoEeY6IWnWJXKxNGlEXF7EpCcDyPaMEWtSDu9gmplzAM4fHBbyJWUu+m7h1W7MIojMUAQzOmdi0pDP+GXoEw5VLpfOrbC1lOLdvrVA1CaZe0JhnqGKo9BMsvFeDxu4V5TwSBJ8sk4q1uGTPqKf1PulTsQWKxuM+KjR7NrqqsYiBN2BH5Ii0jSA/aLtMaecXHjeKYNE+vldiBtyX4ljucFCbYqxfnncb+RKCwhJhq15pA2SFz+MUScf5LjGZM+jlbz3/v7hTs5wQTxyaMiMddjuL8Y+uwAE0a1Wx2CoWZL9Do02zJQw6q8Ng12e2NfuAWUfBakNWimn1BS8lMgrhdYx/AgONw52mnQCuR/8JvuBHhsGJPuSaLAGjWJcdnPK55J6eGgYZ+yPN9IYY9PWdb12xhesq6FrxXwMfbhg3aWrlyQqbWT10gNn7vxi4RipRpjaMbmhP5QmPeaYfoPxL9GyMP66mAAAAAASUVORK5CYII="}}]);