"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[2113],{52113:function(e,r,n){n.r(r),n.d(r,{default:function(){return k}});var t=n(37762),i=n(15861),a=n(15671),o=n(43144),l=n(60136),s=n(29388),u=n(87757),h=n(98248),p=n(5034),c=n(48739),y=n(27970),f=(n(84615),n(61340),n(59537),n(65343),n(27445),n(48916)),d=n(67503),v=n(78326),g=n(43632),w=n(74605),m=n(64374),b=n(22645),Z=n(26828),_=function(e){(0,l.Z)(n,e);var r=(0,s.Z)(n);function n(){var e;return(0,a.Z)(this,n),(e=r.apply(this,arguments))._graphicsViewMap={},e._popupTemplates=new Map,e.graphicsViews=[],e}return(0,o.Z)(n,[{key:"hitTest",value:function(){var e=(0,i.Z)(u.mark((function e(r,n){var i,a=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.graphicsViews.length){e.next=2;break}return e.abrupt("return",null);case 2:return i=this.layer,e.abrupt("return",this.graphicsViews.reverse().map((function(e){var n,o=a._popupTemplates.get(e),l=e.hitTest(r),s=(0,t.Z)(l);try{for(s.s();!(n=s.n()).done;){var u=n.value;u.layer=i,u.sourceLayer=i,u.popupTemplate=o}}catch(h){s.e(h)}finally{s.f()}return l})).flat().map((function(e){return{type:"graphic",graphic:e,layer:i,mapPoint:r}})));case 4:case"end":return e.stop()}}),e,this)})));return function(r,n){return e.apply(this,arguments)}}()},{key:"update",value:function(e){if(this.graphicsViews){var r,n=(0,t.Z)(this.graphicsViews);try{for(n.s();!(r=n.n()).done;){r.value.processUpdate(e)}}catch(i){n.e(i)}finally{n.f()}}}},{key:"attach",value:function(){var e=this;this.handles.add([(0,y.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.featureCollections}),(function(r){e._clear();var n,i=(0,t.Z)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.popupInfo,l=a.featureSet,s=a.layerDefinition,u=g.default.fromJSON(l),h=new c.Z(u.features),y=s.drawingInfo,f=o?p.Z.fromJSON(o):null,d=(0,v.i)(y.renderer),w=new b.Z({requestUpdateCallback:function(){return e.requestUpdate()},view:e.view,graphics:h,renderer:d,container:new m.Z(e.view.featuresTilingScheme)});e._graphicsViewMap[u.geometryType]=w,e._popupTemplates.set(w,f),"polygon"!==u.geometryType||e.layer.polygonSymbol?"polyline"!==u.geometryType||e.layer.lineSymbol?"point"!==u.geometryType||e.layer.pointSymbol||(e.layer.pointSymbol=d.symbol):e.layer.lineSymbol=d.symbol:e.layer.polygonSymbol=d.symbol,e.graphicsViews.push(w),e.container.addChild(w.container)}}catch(Z){i.e(Z)}finally{i.f()}}),y.nn),(0,y.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.polygonSymbol}),(function(r){e._graphicsViewMap.polygon.renderer=new d.Z({symbol:r})}),y.nn),(0,y.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.lineSymbol}),(function(r){e._graphicsViewMap.polyline.renderer=new d.Z({symbol:r})}),y.nn),(0,y.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.pointSymbol}),(function(r){e._graphicsViewMap.point.renderer=new d.Z({symbol:r})}),y.nn)],"georsslayerview")}},{key:"detach",value:function(){this.handles.remove("georsslayerview"),this._clear()}},{key:"moveStart",value:function(){}},{key:"moveEnd",value:function(){}},{key:"viewChange",value:function(){var e,r=(0,t.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.viewChange()}}catch(n){r.e(n)}finally{r.f()}}},{key:"_clear",value:function(){this.container.removeAllChildren();var e,r=(0,t.Z)(this.graphicsViews);try{for(r.s();!(e=r.n()).done;){e.value.destroy()}}catch(n){r.e(n)}finally{r.f()}this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}}]),n}((0,w.y)(Z.Z)),k=_=(0,h._)([(0,f.j)("esri.views.2d.layers.GeoRSSLayerView2D")],_)},64374:function(e,r,n){n.d(r,{Z:function(){return h}});var t=n(15671),i=n(43144),a=n(11752),o=n(61120),l=n(60136),s=n(29388),u=n(9661),h=function(e){(0,l.Z)(n,e);var r=(0,s.Z)(n);function n(){return(0,t.Z)(this,n),r.apply(this,arguments)}return(0,i.Z)(n,[{key:"renderChildren",value:function(e){this.attributeView.bindTextures(e.context,!1),this.children.some((function(e){return e.hasData}))&&((0,a.Z)((0,o.Z)(n.prototype),"renderChildren",this).call(this,e),e.drawPhase===u.jx.MAP&&this._renderChildren(e),this.hasHighlight()&&e.drawPhase===u.jx.HIGHLIGHT&&this._renderHighlight(e),this._boundsRenderer&&this._boundsRenderer.doRender(e))}},{key:"_renderHighlight",value:function(e){var r=e.painter.effects.highlight;r.bind(e),this._renderChildren(e,r.defines),r.draw(e),r.unbind()}}]),n}(n(50222).Z)}}]);