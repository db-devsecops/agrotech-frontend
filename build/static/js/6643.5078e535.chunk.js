"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[6643],{679:function(e,t,n){n.d(t,{Rd:function(){return i},Em:function(){return o},d0:function(){return c},NT:function(){return l},eG:function(){return d}});var a=n(1413),s=n(11979),r=n(83684),i=function(e){return function(t,n,i){var o=i.api;return new Promise((function(t,n){(0,s.DI)(e,r.HY.getAllCrops),o((0,a.Z)({},r.HY.getAllCrops)).then((function(e){var n=e.data;t(n)})).catch((function(e){var t=e.message;n(t)}))}))}},o=function(e,t){return function(n,s,i){var o=i.api;return new Promise((function(n,s){o((0,a.Z)((0,a.Z)({},r.HY.uploadCrop),{},{body:e,options:t})).then((function(e){n(e)})).catch((function(e){s(e)}))}))}},c=function(e){return function(t,n,i){var o=i.api;return new Promise((function(t,n){(0,s.DI)(e,r.HY.getCropById),o((0,a.Z)({},r.HY.getCropById)).then((function(e){var n=e.data;t(n)})).catch((function(e){var t=e.message;n(t)}))}))}},l=function(e,t){return function(n,i,o){var c=o.api;return new Promise((function(n,i){(0,s.DI)(e,r.HY.editCrop),c((0,a.Z)((0,a.Z)({},r.HY.editCrop),{},{body:t})).then((function(e){var t=e.message;n(t)})).catch((function(e){var t=e.message;i(t)}))}))}},d=function(e){return function(t,n,i){var o=i.api;return new Promise((function(t,n){(0,s.DI)(e,r.HY.deleteCrop),o((0,a.Z)({},r.HY.deleteCrop)).then((function(e){var n=e.message;t(n)})).catch((function(e){var t=e.message;n(t)}))}))}}},49845:function(e,t,n){n.d(t,{Z:function(){return c}});n(47313);var a=n(57829),s=n(61113),r=n(33286),i=(n(45214),n(46417)),o={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,outline:"none",p:4};function c(e){var t=e.openModal,n=e.handleCloseModal,c=e.text,l=e.deleteModal;return(0,i.jsx)("div",{children:(0,i.jsx)(r.Z,{open:t,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,i.jsxs)(a.Z,{sx:o,children:[(0,i.jsx)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:c}),(0,i.jsxs)("div",{className:"delete-modal-btns",children:[(0,i.jsx)("button",{onClick:l,className:"confirm",children:"Yes"}),(0,i.jsx)("button",{onClick:n,className:"delete",children:"No"})]})]})})})}},46495:function(e,t,n){n.d(t,{Z:function(){return s}});n(47313);var a=n(46417);function s(e){var t=e.text,n=e.trigger;return(0,a.jsx)("button",{className:"green-btn",onClick:n,children:t})}},45214:function(e,t,n){n.d(t,{Z:function(){return r}});n(47313);var a=n(97477),s=n(46417);function r(e){var t=e.text,n=e.trigger;return(0,s.jsxs)("div",{className:"green-btn-container",children:[(0,s.jsx)("button",{className:"red-button",onClick:n,children:t}),(0,s.jsx)("img",{className:"green-plus",src:a})]})}},66643:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(47313),s=n(4942),r=n(29439),i=n(1084),o=n(9038),c=n(46495),l=n(61378),d=n.n(l),u=n(56605),h=n(97890),p=(n(72632),n(679)),x=n(8512),m=(n(88282),n(40937)),f=n(44648),j=n(88564),v=n(66835),g=n(57861),C=n(70941),Z=n(19438),A=n(51629),N=n(23477),y=n(24076),b=n(82295),S=(n(26564),n(58821)),w=n(7861),D=n(46417),B=(0,j.ZP)(C.Z)((function(e){var t;e.theme;return t={},(0,s.Z)(t,"&.".concat(Z.Z.head),{backgroundColor:"#FBFBFB",color:"#999999",fontFamily:"Inter",fontSize:16,height:10}),(0,s.Z)(t,"&.".concat(Z.Z.body),{color:"#000000",fontFamily:"Inter"}),t})),M=(0,j.ZP)(y.Z)((function(e){e.theme;return{"&:nth-of-type(even)":{backgroundColor:"#FBFBFB",height:10},"&:last-child td, &:last-child th":{border:0}}}));function k(e){var t=e.row,n=e.index,s=e.deleteCrop,i=e.editCrop,o=(0,a.useState)(!1),c=(0,r.Z)(o,2),l=(c[0],c[1],sessionStorage.getItem("token")),d=(0,w.Z)(l);return(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(M,{children:[(0,D.jsx)(B,{component:"th",scope:"row",children:n+1}),(0,D.jsx)(B,{className:"table-cells",children:t.state}),(0,D.jsx)(B,{className:"table-cells",children:t.district}),(0,D.jsx)(B,{children:t.mandal}),(0,D.jsx)(B,{children:t.village}),(0,D.jsx)(B,{children:t.cadastralNo}),(0,D.jsx)(B,{children:t.villaCad}),(0,D.jsx)(B,{children:t.cropType}),(0,D.jsx)(B,{children:(0,D.jsxs)("div",{className:"action-items",children:[(0,D.jsx)(S.Ph1,{className:"view-icon",color:"#228b22",onClick:function(){return i(t._id)},size:20}),"ROLE_5"===(null===d||void 0===d?void 0:d.roleId)&&(0,D.jsx)(S.Wg8,{className:"view-icon",color:"#228b22",onClick:function(){return s(t._id)},size:20})]})})]},t.name)})}var F=(0,j.ZP)(C.Z)((function(e){var t;e.theme;return t={},(0,s.Z)(t,"&.".concat(Z.Z.head),{backgroundColor:"#FBFBFB",color:"#999999",fontFamily:"Inter",fontSize:16,height:10}),(0,s.Z)(t,"&.".concat(Z.Z.body),{color:"#000000",fontFamily:"Inter"}),t}));function Y(e){var t=e.userData,n=e.deleteCrop,a=e.editCrop,s=e.filter;return(0,D.jsx)(A.Z,{component:b.Z,children:(0,D.jsxs)(v.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,D.jsx)(N.Z,{children:(0,D.jsxs)(y.Z,{children:[(0,D.jsx)(F,{style:{width:20},children:"S.No"}),(0,D.jsx)(F,{style:{width:60,cursor:"pointer"},onClick:function(){return s("state")},children:"State"}),(0,D.jsx)(F,{style:{width:60,cursor:"pointer"},onClick:function(){return s("district")},children:"District"}),(0,D.jsx)(F,{style:{width:60,cursor:"pointer"},onClick:function(){return s("mandal")},children:"Mandal"}),(0,D.jsx)(F,{style:{width:20,cursor:"pointer"},onClick:function(){return s("village")},children:"Village"}),(0,D.jsx)(F,{style:{width:20,cursor:"pointer"},onClick:function(){return s("cadastralNo")},children:"Cadastral No"}),(0,D.jsx)(F,{style:{width:50,cursor:"pointer"},onClick:function(){return s("villaCad")},children:"Villa_Cad"}),(0,D.jsx)(F,{style:{width:20,cursor:"pointer"},onClick:function(){return s("cropType")},children:"Crop Type"}),(0,D.jsx)(F,{style:{width:20},children:"Actions"})]})}),t.length>0?(0,D.jsx)(g.Z,{children:t.map((function(e,t){return(0,D.jsx)(k,{row:e,index:t,editCrop:a,deleteCrop:n},t)}))}):(0,D.jsx)("div",{className:"no-records",children:(0,D.jsx)("h3",{children:"No Records Found"})})]})})}var I=n(44115),T=n(24554),P=(n(16031),n(70816)),U=n.n(P),E=n(49845);var W=function(e){var t=(0,h.s0)(),n=(sessionStorage.getItem("token"),localStorage.getItem("activeTab")),i=(0,a.useState)([]),o=(0,r.Z)(i,2),l=o[0],p=o[1],j=(0,a.useState)(""),v=(0,r.Z)(j,2),g=v[0],C=v[1],Z=(0,a.useState)(1),A=(0,r.Z)(Z,2),N=A[0],y=A[1],b=(0,a.useState)(1),S=(0,r.Z)(b,2),w=S[0],B=S[1],M=(0,a.useState)(1),k=(0,r.Z)(M,2),F=k[0],P=k[1],W=(0,a.useState)(""),H=(0,r.Z)(W,2),R=H[0],q=H[1],G=(0,a.useState)(""),z=(0,r.Z)(G,2),K=z[0],V=z[1],X=(0,a.useState)(""),L=(0,r.Z)(X,2),Q=L[0],J=L[1],O=(0,a.useState)(1),_=(0,r.Z)(O,2),$=_[0],ee=_[1],te=(0,a.useState)(!0),ne=(0,r.Z)(te,2),ae=(ne[0],ne[1]),se=(0,a.useState)(null),re=(0,r.Z)(se,2),ie=re[0],oe=re[1],ce=(0,a.useState)(""),le=(0,r.Z)(ce,2),de=le[0],ue=(le[1],(0,a.useState)([])),he=(0,r.Z)(ue,2),pe=he[0],xe=he[1],me=(0,a.useState)(""),fe=(0,r.Z)(me,2),je=fe[0],ve=fe[1],ge=(0,a.useState)("10"),Ce=(0,r.Z)(ge,2),Ze=(Ce[0],Ce[1]),Ae=a.useState(!1),Ne=(0,r.Z)(Ae,2),ye=Ne[0],be=Ne[1],Se=(0,a.useState)(""),we=(0,r.Z)(Se,2),De=we[0],Be=we[1],Me=(0,a.useState)(!0),ke=(0,r.Z)(Me,2),Fe=ke[0],Ye=ke[1],Ie=function(){return be(!1)},Te=function(){var t,n=U().duration(U()(K).diff(U()(R)));(n=Math.ceil(n.asDays()))<=0&&(l.length>0?R.setDate(R.getDate()):R.setDate(R.getDate()-77));var a=(t={page:N,search:g},(0,s.Z)(t,Q,$),(0,s.Z)(t,"status",de),(0,s.Z)(t,"startDate",R?U()(R).format("YYYY-MM-DD"):""),(0,s.Z)(t,"endDate",K?U()(K).format("YYYY-MM-DD"):""),(0,s.Z)(t,"searchType",ie?1:0),(0,s.Z)(t,"headerType",ie||""),t);e.getAllCrops(a).then((function(e){p(e.list),y(e.pageMeta.page),ve(e.list.length),B(e.pageMeta.totalPages),P(e.pageMeta.total),xe(e.pageMeta.sNo),Ye(!1)})).catch((function(e){console.log(e)}))};return(0,a.useEffect)((function(){Te()}),[g,N,Q,$,de,R,K,ie]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(x.Ix,{}),(0,D.jsxs)("div",{className:"customerDatabase-container ".concat(e.isNotDisplayTitle?"container-root":""),children:[!e.isNotDisplayTitle&&(0,D.jsx)("h3",{children:"Crop Status"}),(0,D.jsxs)("div",{className:"btn-container search-box",children:[e.isNotDisplayTitle&&(0,D.jsxs)("div",{className:"searchIcon-container",children:[(0,D.jsx)(f.Z,{search:C,value:g,title:"Search"}),(0,D.jsx)("img",{src:I,alt:"searchIcon",className:"searchIcon"})]}),"Application Management"===n?(0,D.jsx)(D.Fragment,{}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:{marginTop:30},children:(0,D.jsx)(c.Z,{text:"Download",trigger:function(){window.open("https://docs.google.com/spreadsheets/d/1qDvOmRJAWVcFx7Q-hweZw9YBym3Zz0WAexWBhTG-UuA/edit?usp=sharing","_blank")}})}),(0,D.jsx)("div",{style:{marginTop:30},children:(0,D.jsxs)("div",{class:"upload-btn-wrapper",children:[(0,D.jsx)(c.Z,{text:"Bulk Upload"}),(0,D.jsx)("input",{onChange:function(t){var n=new FormData;n.append("file",t.target.files[0]),e.cropBulkUpload(n).then((function(){x.Am.success("Updated Successfully"),Te()})).catch((function(e){x.Am.error(e.data)}))},type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",name:"myfile"})]})})]})]})]}),!e.isNotDisplayTitle&&(0,D.jsxs)("div",{className:"cropStatus-container",children:[(0,D.jsxs)("div",{className:"search-flex",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)(f.Z,{search:C,value:g,title:"Search"}),(0,D.jsx)("img",{src:I,alt:"searchIcon",className:"searchIcon"})]}),(0,D.jsxs)("div",{className:"searchby-search",style:{display:"flex",flexDirection:"column",marginTop:-30},children:[(0,D.jsx)("span",{className:"role-text",children:"Search By"}),(0,D.jsxs)("select",{className:"select",name:"searchType",id:"searchType",onChange:function(e){oe(e.target.value),"7"===e.target.value?ae(!1):ae(!0)},children:[(0,D.jsx)("option",{value:"",selected:!0,children:"Select an Option"}),(0,D.jsx)("option",{value:"0",children:"State"}),(0,D.jsx)("option",{value:"1",children:"District"}),(0,D.jsx)("option",{value:"2",children:"Mandal"}),(0,D.jsx)("option",{value:"3",children:"Village"}),(0,D.jsx)("option",{value:"4",children:"Cadastral No"}),(0,D.jsx)("option",{value:"5",children:"Villa Cad"}),(0,D.jsx)("option",{value:"6",children:"Crop Name"}),(0,D.jsx)("option",{value:"7",children:"Crop Type"})]})]})]}),(0,D.jsxs)("div",{className:"flex-container filter-flex",children:[(0,D.jsxs)("div",{className:"date-picker-container",children:[(0,D.jsx)("span",{className:"role-text",children:"Start Date"}),(0,D.jsxs)("div",{className:"date-picker",children:[(0,D.jsx)(d(),{className:"select",selected:R,placeholderText:"Start Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){q(e);var t=U().duration(U()(K).diff(U()(e)));Math.ceil(t.asDays())<=0&&V(e)}(e)}}),(0,D.jsx)("img",{src:u,alt:"calendar-icon",className:"calendar-icon"})]})]}),(0,D.jsxs)("div",{className:"date-picker-container",children:[(0,D.jsx)("span",{className:"role-text",children:"End Date"}),(0,D.jsxs)("div",{className:"date-picker",children:[(0,D.jsx)(d(),{className:"select",selected:K,minDate:R,placeholderText:"End Date",dateFormat:"dd/MM/yyyy",onChange:function(e){return function(e){V(e)}(e)}}),(0,D.jsx)("img",{src:u,alt:"calendar-icon",className:"calendar-icon"})]})]})]})]}),(0,D.jsxs)("div",{className:"table-container ".concat(e.isNotDisplayTitle?"table-root":""),children:[Fe?(0,D.jsxs)("div",{className:"loading-container",children:[(0,D.jsx)("h2",{children:"Loading..."}),(0,D.jsx)(m.Z,{})]}):(0,D.jsx)(Y,{userData:l,deleteCrop:function(e){be(!0),Be(e)},editCrop:function(e){t("/edit-crops",{state:{id:e}})},filter:function(e){J(e),ee(1===$?-1:1)}}),l.length>0?(0,D.jsx)("div",{children:(0,D.jsxs)("div",{className:"table-footer",children:["".concat(pe[0]," - ").concat(pe[je-1]," of ").concat(F),(0,D.jsxs)("div",{children:[(0,D.jsx)("span",{className:"role-text",children:"Show"}),(0,D.jsxs)("select",{className:"select",name:"limit",id:"limit",onChange:function(e){Ze(e.target.value)},children:[(0,D.jsx)("option",{value:"5",children:"5"}),(0,D.jsx)("option",{value:"10",selected:!0,children:"10"}),(0,D.jsx)("option",{value:"15",children:"15"}),(0,D.jsx)("option",{value:"20",children:"20"}),(0,D.jsx)("option",{value:"25",children:"25"}),(0,D.jsx)("option",{value:"50",children:"50"}),(0,D.jsx)("option",{value:"100",children:"100"}),(0,D.jsx)("option",{value:"0",children:"All"})]}),(0,D.jsx)("span",{className:"role-text",children:"Per Page"})]})]})}):(0,D.jsx)(D.Fragment,{}),(0,D.jsx)(T.Z,{pageNumbers:w>3?3:w,totalItemsCount:F,selectPage:function(e){y(e)}})]}),(0,D.jsx)(E.Z,{text:"Are you sure you want to delete this Crop?",openModal:ye,handleCloseModal:Ie,deleteModal:function(){var t={id:De};e.deleteCrops(t).then((function(){x.Am.success("Crop Deleted",{autoClose:1500}),Ie(),Te()})).catch((function(){x.Am.error("Can't deleted Crop")}))}})]})},H=(0,i.$j)(null,(function(e){return(0,o.DE)({getAllCrops:p.Rd,cropBulkUpload:p.Em,deleteCrops:p.eG},e)}))(W);function R(e){return(0,D.jsx)(H,{isNotDisplayTitle:e.isNotDisplayTitle})}},97477:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK4SURBVHgBrVZNbhMxFH52ghBsOukFcKYH6HACgoRAYtNwArJllWZBBasmK0QDCjlBwwmgy0ogpidILtB2OEG9AQpqbL7nzESZZmbyozwp8djv+X3Pfn8WVECqrTy6RzVZkntkqUaCPIwe8yzZkRBiJIw4Oz84HxTpEXkMv+sfgrvvlArS1jqlUcLHXGEexKC8Prh4fdFZCkS9U0qUxRdBIoC1IX4d+kWjqB3pLAXqSDUA1mR5BjM35nH0NopyQbAhkFL+mJhKHVj2iZYkBpNC9vjbWAAdRKM5ED6BvCOHUK6zrFkKiHWUnZEedDxMdMhEIGbSugBMvI/3O+tx5cl6if/8j3Cypbqw4tXlm8uQCizdfrZ9vPV861Sf6ussGf1d68rTyl/4qFF5UhFX367CyUkMNTgkF4UilUnhgut0TUGRGPuSgwb31FQ95Ul2GBsprezTBslFJXxD/5BnoEeY6IWnWJXKxNGlEXF7EpCcDyPaMEWtSDu9gmplzAM4fHBbyJWUu+m7h1W7MIojMUAQzOmdi0pDP+GXoEw5VLpfOrbC1lOLdvrVA1CaZe0JhnqGKo9BMsvFeDxu4V5TwSBJ8sk4q1uGTPqKf1PulTsQWKxuM+KjR7NrqqsYiBN2BH5Ii0jSA/aLtMaecXHjeKYNE+vldiBtyX4ljucFCbYqxfnncb+RKCwhJhq15pA2SFz+MUScf5LjGZM+jlbz3/v7hTs5wQTxyaMiMddjuL8Y+uwAE0a1Wx2CoWZL9Do02zJQw6q8Ng12e2NfuAWUfBakNWimn1BS8lMgrhdYx/AgONw52mnQCuR/8JvuBHhsGJPuSaLAGjWJcdnPK55J6eGgYZ+yPN9IYY9PWdb12xhesq6FrxXwMfbhg3aWrlyQqbWT10gNn7vxi4RipRpjaMbmhP5QmPeaYfoPxL9GyMP66mAAAAAASUVORK5CYII="}}]);