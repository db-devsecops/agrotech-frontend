"use strict";(self.webpackChunkagrotech_frontend=self.webpackChunkagrotech_frontend||[]).push([[8664],{63232:function(e,t,n){n.d(t,{E2:function(){return r},p_:function(){return u},aq:function(){return l},E9:function(){return d},W3:function(){return c},jP:function(){return s},$H:function(){return p},Iu:function(){return v},Cp:function(){return f},ap:function(){return m},o_:function(){return h},NA:function(){return g},RL:function(){return b}});var o=n(1413),a=n(83684),i=n(11979),r=function(e,t){return function(n,r,u){var l=u.api;return new Promise((function(n,r){(0,i.DI)(e,a.Sb.getAllAdmin),l((0,o.Z)((0,o.Z)({},a.Sb.getAllAdmin),{},{body:t})).then((function(e){var t=e.data;n(t)})).catch((function(e){var t=e.message;r(t)}))}))}},u=function(e){return function(t,n,r){var u=r.api;return new Promise((function(t,n){(0,i.DI)(e,a.Sb.getAdminByID),u((0,o.Z)({},a.Sb.getAdminByID)).then((function(e){var n=e.data;t(n)})).catch((function(e){var t=e.message;n(t)}))}))}},l=function(e,t){return function(n,r,u){var l=u.api;return new Promise((function(n,r){(0,i.DI)(e,a.Sb.updateAdminDetails),l((0,o.Z)((0,o.Z)({},a.Sb.updateAdminDetails),{},{body:t})).then((function(e){n(e)})).catch((function(e){r(e)}))}))}},d=function(e){return function(t,n,i){var r=i.api;return new Promise((function(t,n){r((0,o.Z)((0,o.Z)({},a.Sb.createApplication),{},{body:e})).then((function(e){var n=e.data;t(n)})).catch((function(e){n(e)}))}))}},c=function(e){return function(t,n,i){var r=i.api;return new Promise((function(t,n){r((0,o.Z)((0,o.Z)({},a.Sb.addApplication),{},{body:e})).then((function(e){var n=e.data;t(n)})).catch((function(e){n(e)}))}))}},s=function(e){return function(t,n,r){var u=r.api;return new Promise((function(t,n){(0,i.DI)(e,a.Sb.deleteAdmin),u((0,o.Z)({},a.Sb.deleteAdmin)).then((function(e){t(e)})).catch((function(e){var t=e.message;n(t)}))}))}},p=function(){return function(e,t,n){var i=n.api;return new Promise((function(e,t){i((0,o.Z)({},a.Sb.getAllBranchCodes)).then((function(t){e(t)})).catch((function(e){var n=e.message;t(n)}))}))}},v=function(e){return function(t,n,r){var u=r.api;return new Promise((function(t,n){(0,i.DI)(e,a.Sb.downloadAdmin),u((0,o.Z)({},a.Sb.downloadAdmin)).then((function(e){t(e)})).catch((function(e){var t=e.message;n(t)}))}))}},f=function(e){return function(t,n,r){var u=r.api;return new Promise((function(t,n){(0,i.DI)(e,a.Sb.changePassword),u((0,o.Z)({},a.Sb.changePassword)).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},m=function(e){return function(t,n,i){var r=i.api;return new Promise((function(t,n){r((0,o.Z)((0,o.Z)({},a.Sb.createBranch),{},{body:e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},h=function(e){return function(t,n,i){var r=i.api;return new Promise((function(t,n){r((0,o.Z)((0,o.Z)({},a.Sb.updateBranch),{},{body:e,api:"".concat(a.Sb.updateBranch.url,"?id=").concat(e.id)})).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},g=function(e){return function(t,n,r){var u=r.api;return new Promise((function(t,n){(0,i.DI)(e,a.Sb.deleteBranch),u((0,o.Z)({},a.Sb.deleteBranch)).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},b=function(e){return function(t,n,i){var r=i.api;return new Promise((function(t,n){r((0,o.Z)((0,o.Z)({},a.Sb.adminToggle),{},{body:e})).then((function(e){t(e)})).catch((function(e){n(e)}))}))}}},79325:function(e,t,n){n.d(t,{Z:function(){return r}});n(47313);var o=n(97890),a=n(24323),i=n(46417);function r(e){var t=e.title,n=e.path,r=e.activeTab,u=(0,o.s0)();return(0,i.jsxs)("div",{className:"report-header",children:[(0,i.jsx)("img",{src:a,alt:"backIcon",className:"backIcon",onClick:function(){u(n,{state:{activeTab:r}})}}),(0,i.jsx)("span",{children:t})]})}},46495:function(e,t,n){n.d(t,{Z:function(){return a}});n(47313);var o=n(46417);function a(e){var t=e.text,n=e.trigger;return(0,o.jsx)("button",{className:"green-btn",onClick:n,children:t})}},40937:function(e,t,n){n.d(t,{Z:function(){return r}});n(47313);var o=n(85281),a=n(57829),i=n(46417);function r(){return(0,i.jsx)(a.Z,{sx:{display:"flex"},children:(0,i.jsx)(o.Z,{})})}},24554:function(e,t,n){n.d(t,{Z:function(){return u}});var o=n(29439),a=n(47313),i=n(97548),r=n(46417);function u(e){var t=e.selectPage,n=e.pageNumbers,u=e.totalItemsCount,l=e.totalItemsPerPage,d=e.pageName,c=e.isPrevPage,s=(0,a.useState)(!1),p=(0,o.Z)(s,2),v=p[0],f=p[1],m=(0,a.useState)(c&&localStorage.getItem(d)?Number(localStorage.getItem(d)):1),h=(0,o.Z)(m,2),g=h[0],b=h[1];return v?(0,r.jsx)(i.Z,{itemsCountPerPage:l,totalItemsCount:u,pageRangeDisplayed:n,disabledClass:!0,activeClass:"pagination-active",innerClass:"pagination-button",hideFirstLastPages:!0,prevPageText:"\xab",nextPageText:"\xbb"}):(0,r.jsx)(i.Z,{activePage:g,itemsCountPerPage:l,totalItemsCount:u,pageRangeDisplayed:n,onChange:function(e){f(!0),t(e),function(e,t){localStorage.setItem(t,e)}(e,d),b(e),setTimeout((function(){f(!1)}),100)},disabledClass:!0,activeClass:"pagination-active",innerClass:"pagination-button",hideFirstLastPages:!0,prevPageText:"\xab",nextPageText:"\xbb"})}},71977:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var o=n(47313),a=n(93433),i=n(1413),r=n(4942),u=n(29439),l=n(79325),d=n(46495),c=n(97890),s=n(80034),p=n(1084),v=n(9038),f=n(8512),m=n(98219),h=(n(88282),n(34956)),g=n(63232),b=n(77703),A=n(40937),Z=n(7861),N=n(24554),S=n(31881),C=n.n(S),x=n(70816),P=n.n(x),D=n(46417);var k=function(e){var t,n,p,v,h,g,b,S,x,k,j=(0,c.s0)(),I=(0,c.TH)().state,R=sessionStorage.getItem("token"),y=(0,o.useState)([]),w=(0,u.Z)(y,2),U=w[0],F=w[1],E=(0,Z.Z)(R),L=(0,o.useState)(!1),T=(0,u.Z)(L,2),B=T[0],O=T[1],W=(0,o.useState)({}),H=(0,u.Z)(W,2),Y=H[0],K=H[1],Q=(0,o.useState)(0),M=(0,u.Z)(Q,2),V=M[0],q=M[1],X=(0,o.useState)(""),_=(0,u.Z)(X,2),G=_[0],z=_[1],J=(0,o.useState)("individual"),$=(0,u.Z)(J,2),ee=$[0],te=$[1],ne=(0,o.useState)({}),oe=(0,u.Z)(ne,2),ae=oe[0],ie=oe[1],re=(0,o.useState)({}),ue=(0,u.Z)(re,2),le=ue[0],de=ue[1],ce=(0,o.useState)(""),se=(0,u.Z)(ce,2),pe=se[0],ve=se[1],fe=(0,o.useState)(""),me=(0,u.Z)(fe,2),he=me[0],ge=me[1],be=(0,o.useState)(""),Ae=(0,u.Z)(be,2),Ze=Ae[0],Ne=Ae[1],Se=(0,o.useState)(""),Ce=(0,u.Z)(Se,2),xe=Ce[0],Pe=Ce[1],De=(0,o.useState)(""),ke=(0,u.Z)(De,2),je=ke[0],Ie=ke[1],Re=(0,o.useState)(""),ye=(0,u.Z)(Re,2),we=ye[0],Ue=ye[1],Fe=(0,o.useState)([]),Ee=(0,u.Z)(Fe,2),Le=Ee[0],Te=Ee[1],Be=(0,o.useState)([]),Oe=(0,u.Z)(Be,2),We=Oe[0],He=Oe[1],Ye=(0,o.useState)([]),Ke=(0,u.Z)(Ye,2),Qe=Ke[0],Me=Ke[1],Ve=(0,o.useState)([]),qe=(0,u.Z)(Ve,2),Xe=qe[0],_e=qe[1],Ge=(0,o.useState)([]),ze=(0,u.Z)(Ge,2),Je=ze[0],$e=ze[1],et=(0,o.useState)(""),tt=(0,u.Z)(et,2),nt=tt[0],ot=tt[1],at=(0,o.useState)(""),it=(0,u.Z)(at,2),rt=it[0],ut=it[1],lt=(0,o.useState)(0),dt=(0,u.Z)(lt,2),ct=dt[0],st=dt[1],pt=(0,o.useState)([]),vt=(0,u.Z)(pt,2),ft=vt[0],mt=vt[1],ht=(0,o.useState)(!1),gt=(0,u.Z)(ht,2),bt=gt[0],At=gt[1],Zt=(0,o.useState)([]),Nt=(0,u.Z)(Zt,2),St=Nt[0],Ct=Nt[1],xt=(0,o.useState)([]),Pt=(0,u.Z)(xt,2),Dt=Pt[0],kt=Pt[1],jt=(0,o.useState)(0),It=(0,u.Z)(jt,2),Rt=It[0],yt=It[1],wt=(0,o.useState)(!1),Ut=(0,u.Z)(wt,2),Ft=Ut[0],Et=Ut[1],Lt=(0,o.useState)(""),Tt=(0,u.Z)(Lt,2),Bt=Tt[0],Ot=Tt[1],Wt=[{key:"boundNorth",neighbourPlots:null===(t=U[ct-1])||void 0===t?void 0:t.boundNorth},{key:"boundSouth",neighbourPlots:null===(n=U[ct-1])||void 0===n?void 0:n.boundSouth},{key:"boundEast",neighbourPlots:null===(p=U[ct-1])||void 0===p?void 0:p.boundEast},{key:"boundWest",neighbourPlots:null===(v=U[ct-1])||void 0===v?void 0:v.boundWest},{key:"boundNorthEast",neighbourPlots:null===(h=U[ct-1])||void 0===h?void 0:h.boundNorthEast},{key:"boundNorthWest",neighbourPlots:null===(g=U[ct-1])||void 0===g?void 0:g.boundNorthWest},{key:"boundSouthEast",neighbourPlots:null===(b=U[ct-1])||void 0===b?void 0:b.boundSouthEast},{key:"boundSouthWest",neighbourPlots:null===(S=U[ct-1])||void 0===S?void 0:S.boundSouthWest}],Ht=(0,o.useState)([{neighbourPlots:"",khasraNumberDetails:"",totalAreaAcres:"",ownerName:"",spouseName:"",village:"",landRevenue:""}]),Yt=(0,u.Z)(Ht,2),Kt=Yt[0],Qt=Yt[1];(0,o.useEffect)((function(){!function(){var e=(0,a.Z)(null===U||void 0===U?void 0:U.map((function(e){return e.extentInAcres})).filter((function(e){return void 0!==e&&NaN!==e})));yt(e.reduce((function(e,t){return e.concat(+t)}),[]).reduce((function(e,t){return e+t}),0))}()}),[null===(x=U[ct-1])||void 0===x?void 0:x.extentInAcres]);var Mt=function(e){te(e)},Vt=function(){if("individual"===ee&&"KCC Applications"===(null===I||void 0===I?void 0:I.from))if(Object.keys(ae).forEach((function(e){return void 0===ae[e]&&delete ae[e]})),null!==I&&void 0!==I&&I.data){var t={id:null===I||void 0===I?void 0:I.data._id},n={userId:null===E||void 0===E?void 0:E.id,userName:null===E||void 0===E?void 0:E.name,roleName:null===E||void 0===E?void 0:E.roleId,editTime:P()().format("LLL")};ae.lastEditInfo=n,e.editApplications(t,ae).then((function(){f.Am.success("Application Updated"),setTimeout((function(){j(null===I||void 0===I?void 0:I.backRoute)}),1e3)})).catch((function(e){f.Am.error(e.error?e.error:e.data)}))}else{var o=(0,i.Z)({bankBranchCode:null===E||void 0===E?void 0:E.branchCode},ae);e.createApplication(o).then((function(){f.Am.success("Application Added"),setTimeout((function(){j(null===I||void 0===I?void 0:I.backRoute)}),1e3)})).catch((function(e){f.Am.error(e.error?e.error:e.data)}))}else if("Report Compilation"===(null===I||void 0===I?void 0:I.from)&&"individual"===ee)if(G){var a=new FormData;a.append("file",Y[0]);var r={onUploadProgress:function(e){var t=e.loaded,n=e.total,o=Math.floor(100*t/n);q(o)}};e.uploadCustomRecord(a,r).then((function(e){He(e.data.createdApplication),Me(e.data.updatedApplication),_e(e.data.notUpdatedApplication),f.Am.success("File Uploaded",{autoClose:2e3})})).catch((function(e){f.Am.error(e)}))}else f.Am.error("Please Select a File",{autoClose:2e3});else if("Report Compilation"===(null===I||void 0===I?void 0:I.from)&&"bulk"===ee){if(G)new Promise((function(t,n){if(Y){t("Files Uploaded");for(var o={onUploadProgress:function(e){var t=e.loaded,n=e.total,o=Math.floor(100*t/n);q(o)}},a=0;a<Y.length;a++){var i=new FormData;i.append("file",Y[a]),e.uploadCustomRecord(i,o).then((function(e){Me(e.data.updatedApplication),_e(e.data.notUpdatedApplication)})).catch((function(e){f.Am.error(e)}))}}else n("Could not Upload Files")})).then((function(e){f.Am.success(e,{autoClose:2e3})})).catch((function(e){f.Am.error(e,{autoClose:2e3})}));else f.Am.error("Please Select a File",{autoClose:2e3})}else if("KCC Applications"===(null===I||void 0===I?void 0:I.from)&&"bulk"===ee)if(G){var u=new FormData;u.append("file",Y[0]);var l={onUploadProgress:function(e){var t=e.loaded,n=e.total,o=Math.floor(100*t/n);q(o)}};e.addCustomerBulkUpload(u,l).then((function(e){He(e.data.createdApplication),Me(e.data.updatedApplication),_e(e.data.notUpdatedApplication),f.Am.success("File Uploaded",{autoClose:2e3})})).catch((function(e){f.Am.error(e.data)}))}else f.Am.error("Please Select a File",{autoClose:2e3});else if(G){var d=new FormData;d.append("file",Y);var c={onUploadProgress:function(e){var t=e.loaded,n=e.total,o=Math.floor(100*t/n);q(o)}};e.addCustomerBulkUpload(d,c).then((function(e){Me(e.data.updatedApplication),_e(e.data.notUpdatedApplication),f.Am.success("File Uploaded",{autoClose:2e3})})).catch((function(e){f.Am.error(e)}))}else f.Am.error("Please Select a File",{autoClose:2e3})},qt=function(t){var n;n=(0,a.Z)(Dt.filter((function(e){return""!=e})));var o=U.map((function(e,t){var o,a,r,u;return(0,i.Z)((0,i.Z)({},e),{},{surveyNo:e.surveyNo,imageLink:ft[t],mobileNumber:null===e||void 0===e?void 0:e.mobileNumber,spouseName:U[t].spouseName,neighbourPlotDetails:null===(o=n[t])||void 0===o?void 0:o.map((function(e){return{khasraNumberDetails:e.khasraNumberDetails,landRevenue:e.landRevenue,neighbourPlots:e.neighbourPlots,ownerName:e.ownerName,spouseName:e.spouseName,totalAreaAcres:e.totalAreaAcres,village:e.village}})).filter((function(e){return""!==e.neighbourPlots})),extentInAcres:(null===(a=U[t])||void 0===a?void 0:a.extentInAcres)||"",landRevenue:(null===(r=U[t])||void 0===r?void 0:r.landRevenue)||"",pincode:(null===(u=U[t])||void 0===u?void 0:u.pincode)||"",boundEast:U[t].boundEast?U[t].boundEast:"",boundNorth:U[t].boundNorth?U[t].boundNorth:"",boundSouth:U[t].boundSouth?U[t].boundSouth:"",boundWest:U[t].boundWest?U[t].boundWest:"",boundNorthEast:U[t].boundNorthEast,boundNorthWest:U[t].boundNorthWest,boundSouthEast:U[t].boundSouthEast,boundSouthWest:U[t].boundSouthWest,cropType:U[t].cropType?U[t].cropType:U[0].cropType,cropName:U[t].cropName?U[t].cropName:U[0].cropName,tentativeSowing:U[t].tentativeSowing?U[t].tentativeSowing:U[0].tentativeSowing,tentativeHarvesting:U[t].tentativeHarvesting?U[t].tentativeHarvesting:U[0].tentativeHarvesting,cropHealth:U[t].cropHealth?U[t].cropHealth:U[0].cropHealth,estimatedYield:U[t].estimatedYield?U[t].estimatedYield:U[0].estimatedYield,satelliteInspectionDate:U[t].satelliteInspectionDate?U[t].satelliteInspectionDate:U[0].satelliteInspectionDate})})),r={applicationId:Bt,reportGeneratedOn:P()(Je[0].createdAt).format("LLL"),commentRecievedOn:P()().format("LLL"),commentResolutionDoneDate:P()().format("LLL"),finalReportGenerated:P()().format("LLL")},u=(0,i.Z)((0,i.Z)({appId:null===ae||void 0===ae?void 0:ae._id},le),{},{khataDetailsValidation:bt,allApplicationData:o,surveyNo:nt,mobileNumber:rt,address:pe,lastEditInfo:{userId:null===E||void 0===E?void 0:E.id,userName:null===E||void 0===E?void 0:E.name,roleName:null===E||void 0===E?void 0:E.roleId,editTime:P()().format("LLL")},reportApprovalVersion:[r]}),l={publishedTime:P()().utcOffset("+05:30").format("DD-MM-YYYY hh:mm A"),publishWithNewTime:!0};t&&(u=(0,i.Z)((0,i.Z)({},u),l)),e.updateReports(u).then((function(t){var n;f.Am.success(t.message,{autoClose:1e3}),O(!0);var o={applicationId:null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.applicationId};e.generateReport(o).then((function(e){setTimeout((function(){j("/report-compilation")}),1e3)}))})).catch((function(e){f.Am.error(e.data,{autoClose:1e3})}))};return(0,o.useEffect)((function(){!function(){var t,n={id:null===I||void 0===I||null===(t=I.data)||void 0===t?void 0:t._id};e.getApplicationByID(n).then((function(e){var t,n;Ot(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.applicationDetails)||void 0===n?void 0:n.applicationId)})),e.getReports(n).then((function(e){var t,n,o;0===e.data.length?window.location.reload():(mt(e.data[0].allApplicationData.map((function(e){return e.imageLink}))),At(e.data[0].khataDetailsValidation),kt(null===e||void 0===e?void 0:e.data[0].allApplicationData.map((function(e){return e.neighbourPlotDetails}))),ut(null===(t=e.data[0])||void 0===t?void 0:t.mobileNumber),ve(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.address),$e(e.data),ot(null===(o=e.data[0])||void 0===o?void 0:o.surveyNo),F(null===e||void 0===e?void 0:e.data[0].allApplicationData.map((function(e){return e}))),de(e.data[0]))})).catch((function(e){console.log(e)}))}(),null!==I&&void 0!==I&&I.data&&(ie(null===I||void 0===I?void 0:I.data),ge(null===I||void 0===I?void 0:I.data.khataDetails),Ne(I.data.landAreaOfFarmer?I.data.landAreaOfFarmer:I.data.landArea),Ie(null===I||void 0===I?void 0:I.data.surveyNo),Pe(null===I||void 0===I?void 0:I.data.spouseName))}),[]),(0,o.useEffect)((function(){var e=setTimeout((function(){var e,t;null!==(e=U[ct-1])&&void 0!==e&&e.pincode&&Object.keys(le).length>0&&C().get("https://api.postalpincode.in/pincode/".concat(null===(t=U[ct-1])||void 0===t?void 0:t.pincode)).then((function(e){var t,n,o,a;de((0,i.Z)((0,i.Z)({},le),{},{district:null===e||void 0===e||null===(t=e.data[0])||void 0===t||null===(n=t.PostOffice[0])||void 0===n?void 0:n.District,state:null===e||void 0===e||null===(o=e.data[0])||void 0===o||null===(a=o.PostOffice[0])||void 0===a?void 0:a.State})),F(U.map((function(t,n){var o,a,r,u,l,d;return ct-1===n?(0,i.Z)((0,i.Z)({},t),{},{district:null===e||void 0===e||null===(o=e.data[0])||void 0===o||null===(a=o.PostOffice[0])||void 0===a||null===(r=a.District)||void 0===r?void 0:r.toUpperCase(),state:null===e||void 0===e||null===(u=e.data[0])||void 0===u||null===(l=u.PostOffice[0])||void 0===l||null===(d=l.State)||void 0===d?void 0:d.toUpperCase()}):t})))})).catch((function(e){console.log(e)}))}),200);return function(){return clearTimeout(e)}}),[null===(k=U[ct-1])||void 0===k?void 0:k.pincode]),(0,o.useEffect)((function(){var e=setTimeout((function(){null!==ae&&void 0!==ae&&ae.pinCode&&Object.keys(le).length>0&&C().get("https://api.postalpincode.in/pincode/".concat(null===ae||void 0===ae?void 0:ae.pinCode)).then((function(e){var t,n,o,a;ie((0,i.Z)((0,i.Z)({},ae),{},{district:null===e||void 0===e||null===(t=e.data[0])||void 0===t||null===(n=t.PostOffice[0])||void 0===n?void 0:n.District.toUpperCase(),state:null===e||void 0===e||null===(o=e.data[0])||void 0===o||null===(a=o.PostOffice[0])||void 0===a?void 0:a.State.toUpperCase()}))})).catch((function(e){console.log(e)}))}),200);return function(){return clearTimeout(e)}}),[null===ae||void 0===ae?void 0:ae.pinCode]),(0,o.useEffect)((function(){Je[ct]&&de(Je[ct])}),[ct]),B?(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)("div",{className:"loading-container centered",children:[(0,D.jsx)("h2",{children:"Generating Report.."}),(0,D.jsx)(A.Z,{})]})}):(0,D.jsxs)("div",{className:"application-main",children:[(0,D.jsx)(f.Ix,{}),(0,D.jsx)(l.Z,{title:"New Application",path:null===I||void 0===I?void 0:I.backRoute,activeTab:1}),(0,D.jsx)("div",{className:"tabButton-container",children:"edit"===(null===I||void 0===I?void 0:I.type)?(0,D.jsx)(D.Fragment,{}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("button",{className:"individual"===ee?"green-btn right-noOutline":"outlined-btn right-noOutline",onClick:function(){return Mt("individual")},children:"Individual Upload"}),(0,D.jsx)("button",{className:"bulk"===ee?"green-btn left-noOutline":"outlined-btn left-noOutline",onClick:function(){return Mt("bulk")},children:"Bulk Upload"})]})}),"KCC Applications"===(null===I||void 0===I?void 0:I.from)&&"individual"===ee?(0,D.jsx)(m.E,{actionType:null===I||void 0===I?void 0:I.type,handleAddress:function(e){e.length<300&&ve(e),ie((0,i.Z)((0,i.Z)({},ae),{},{address:e})),de((0,i.Z)((0,i.Z)({},le),{},{farmerResAddress:e}))},handleKhataDetails:function(e){e.length<300&&ge(e),ie((0,i.Z)((0,i.Z)({},ae),{},{khataDetails:e})),de((0,i.Z)((0,i.Z)({},le),{},{khataDetails:e}))},farmerResLandArea:Ze,farmerResSpouseName:xe,farmerResSurveyNumber:je,handleSurveyNumber:function(e,t){0===t?ot(e):F(U.map((function(n,o){return t-1===o?(0,i.Z)((0,i.Z)({},n),{},{surveyNo:e}):n})))},handleSpouseName:function(e){e.length<300&&Pe(e),ie((0,i.Z)((0,i.Z)({},ae),{},{spouseName:e})),de((0,i.Z)((0,i.Z)({},le),{},{spouseName:e}))},handleLandArea:function(e){e.length<300&&Ne(e),ie((0,i.Z)((0,i.Z)({},ae),{},{landAreaOfFarmer:e})),de((0,i.Z)((0,i.Z)({},le),{},{landAreaOfFarmer:e}))},userData:ae,getInputs:function(e){var t,n=(0,r.Z)({},e.target.name,e.target.value.toUpperCase());"gender"===(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.name)&&Ue(e.target.value.toUpperCase()),ie((0,i.Z)((0,i.Z)({},ae),n)),de((0,i.Z)((0,i.Z)({},le),n))},farmerResAddress:pe,farmerResKhataDetails:he,gender:we,selectReportFile:function(t,n){var o=new FormData;o.append("file",t.target.files[0]),e.uploadReportImage(o).then((function(e){f.Am.success(e.message),mt(ft.map((function(t,o){return n===o?e.data[0].location:t}))),Ct([].concat((0,a.Z)(St),[e.data[0].originalname]))})).catch((function(e){f.Am.error(e.data)}))},from:null===I||void 0===I?void 0:I.from,dataArray:Je,reportUserData:le,index:ct,formDataArray:U,formHandler:function(e,t){var n=e.target,o=n.name,a=n.value;0===t?("surveyNo"===o&&ot(a.toUpperCase()),"mobileNumber"===o&&ut(a.toUpperCase()),"address"===o&&ve(a.toUpperCase())):F(U.map((function(e,n){return t-1===n?(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},o,null===a||void 0===a?void 0:a.toUpperCase())):e})))},surveyNums:nt,mobileNums:rt,fileLinkName:St,addFields:function(){var e={neighbourPlots:"",khasraNumberDetails:"",totalAreaAcres:"",ownerName:"",spouseName:"",village:"",landRevenue:""};Qt(Kt?[].concat((0,a.Z)(Kt),[e]):[e])},formFields:Kt,handleFormChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct,n=(0,a.Z)(Kt);n[t][e.target.name]=e.target.value,Qt(n);var o=(0,a.Z)(Dt);o[ct-1]=Kt,kt(o)},neighbourhoodArray:Dt,pageNumbers:ct+1,imageLink:ft,neighbourhoodKeys:Wt,checkValidation:function(e,t){var n=e.target,o=n.name,a=n.checked;t>0?F(U.map((function(e,n){return t-1===n?(0,i.Z)((0,i.Z)({},e),{},(0,r.Z)({},o,a)):e}))):At(a)},khataDetailsValidation:bt,totalLandArea:Rt}):(0,D.jsx)(s.Z,{selectFile:function(e){Te(e.target.files),K(e.target.files),z(e.target.files[0].name)},uploadProgress:V,uploadFileName:G,createdApplications:We,updatedApplications:Qe,notUpdatedApplications:Xe,title:"Customer Database",from:null===I||void 0===I?void 0:I.from,filesArray:Le,singleUpload:"individual"!==ee||"Report Compilation"!==(null===I||void 0===I?void 0:I.from)}),"Report Compilation"===(null===I||void 0===I?void 0:I.tabName)?(0,D.jsxs)("div",{className:"button-container",children:[(0,D.jsx)("p",{className:"cancel-btn",onClick:function(){return j("/report-compilation")},children:"Cancel"}),(0,D.jsx)(D.Fragment,{children:null!==ae&&void 0!==ae&&ae.isReportCreated?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(d.Z,{text:"Update",trigger:function(){return Et(!Ft)}}),Ft?(0,D.jsxs)("div",{className:"choose-time-container",children:[(0,D.jsx)("button",{onClick:function(){return qt(!0)},children:"Update new time"}),(0,D.jsx)("button",{onClick:function(){return qt()},children:"Keep previous time"})]}):(0,D.jsx)(D.Fragment,{})]}):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(d.Z,{text:"Update",trigger:qt})})})]}):(0,D.jsx)(D.Fragment,{children:"KCC Applications"===(null===I||void 0===I?void 0:I.tabName)?(0,D.jsxs)("div",{className:"button-container",children:[(0,D.jsx)("p",{className:"cancel-btn",onClick:function(){return j("/kcc-applications")},children:"Cancel"}),(0,D.jsx)(d.Z,{text:null!==I&&void 0!==I&&I.data?"Update":"Save and Update",trigger:Vt})]}):(0,D.jsxs)("div",{className:"button-container",children:[(0,D.jsx)("p",{className:"cancel-btn",onClick:function(){return j("/report-compilation")},children:"Cancel"}),(0,D.jsx)(d.Z,{text:null!==I&&void 0!==I&&I.data?"Update":"Save and Update",trigger:Vt})]})}),"Report Compilation"===(null===I||void 0===I?void 0:I.tabName)&&(0,D.jsx)("div",{className:"form-pagination",children:(0,D.jsx)(N.Z,{pageNumbers:10*(U.length+1),totalItemsCount:10*(U.length+1),selectPage:function(e){st(e-1),Qt(Dt[e-2])},isPrevPage:!1})})]})},j=(0,p.$j)(null,(function(e){return(0,v.DE)({addNewCustomer:h.ud,updateCustomer:h.uG,addCustomerBulkUpload:h.tA,createApplication:g.W3,editApplications:b.Ll,uploadCustomRecord:h.gR,updateReports:b.fr,getReports:b._8,uploadReportImage:b.tE,generateReport:b.OE,getApplicationByID:h.w9},e)}))(k);function I(){return(0,D.jsx)(j,{})}},24323:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAALCAYAAABPhbxiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACsSURBVHgBnZHBDQIhEEXBtQBvBLjYglCQlOBWoG14WluwA+2AEvQC3NyjF4J/oiZqXIP7k2FmEl4m84ezDxlj1pxzl3NeeO97NqDJF2iD8vgLepO1dokoiB2r1RiIE4RMgMdebSV3IvCCYsb+Uz8tpbQwpKOJyFUT8e9uHNx0jx07VqmGnhijl1Ke6RRKqTn6fRX4hLXWHOWqBm5emxDCgWDs7YQQ25TSdQi8ARteRXW+qdqtAAAAAElFTkSuQmCC"}}]);